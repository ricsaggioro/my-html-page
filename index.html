<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Always-On Info Display</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: #000;
    color: #fff;
    font-family: "Arial", sans-serif;
    overflow: hidden;
  }

  .center {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100%;
    text-align: center;
  }

  .date-main {
    font-size: 50px;
    font-weight: 300;
  }

  .date-day {
    font-size: 25px;
    color: #aaa;
    margin-top: 5px;
    font-weight: 300;
  }

  .time {
    font-size: 120px;
    font-weight: 300;
  }

  .time .seconds {
    font-size: 50%;
    color: #aaa;
  }

  .weather {
    position: absolute;
    top: 20px;
    right: 20px;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    transform: scale(0.7);
    transform-origin: top right;
    font-weight: 300;
  }

  .weather .location {
    display: block;
    font-size: 30px;
    margin-top: 5px;
  }

  .weather .icon {
    width: 50px;
    height: 50px;
    fill: #fff;
  }

  #temperature {
    font-size: 50px;
  }
</style>
</head>
<body>

<div class="weather" id="weather">
  <svg class="icon" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
    <circle cx="32" cy="32" r="14"/>
    <line x1="32" y1="2" x2="32" y2="14" stroke="#fff" stroke-width="4"/>
    <line x1="32" y1="50" x2="32" y2="62" stroke="#fff" stroke-width="4"/>
    <line x1="2" y1="32" x2="14" y2="32" stroke="#fff" stroke-width="4"/>
    <line x1="50" y1="32" x2="62" y2="32" stroke="#fff" stroke-width="4"/>
    <line x1="10" y1="10" x2="20" y2="20" stroke="#fff" stroke-width="4"/>
    <line x1="44" y1="44" x2="54" y2="54" stroke="#fff" stroke-width="4"/>
    <line x1="10" y1="54" x2="20" y2="44" stroke="#fff" stroke-width="4"/>
    <line x1="44" y1="20" x2="54" y2="10" stroke="#fff" stroke-width="4"/>
  </svg>
  <span id="temperature">--Â°</span>
  <span class="location">Vergato</span>
</div>

<div class="center">
  <div class="date-main" id="date-main">Loading...</div>
  <div class="date-day" id="date-day">Loading...</div>
  <div class="time" id="time">--:--:<span class="seconds">--</span></div>
</div>

<script>
  // --- TIME AND DATE ---
  function updateTime() {
    const now = new Date();
    const hours = now.getHours().toString().padStart(2, '0');
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const seconds = now.getSeconds().toString().padStart(2, '0');
    document.getElementById('time').innerHTML = `${hours}:${minutes}:<span class="seconds">${seconds}</span>`;
    const optionsDate = { year: 'numeric', month: 'long', day: 'numeric' };
    const optionsDay = { weekday: 'long' };
    document.getElementById('date-main').textContent = now.toLocaleDateString(undefined, optionsDate);
    document.getElementById('date-day').textContent = now.toLocaleDateString(undefined, optionsDay);
  }
  setInterval(updateTime, 1000);
  updateTime();

  // --- WEATHER ---
  async function updateWeather() {
    try {
      const res = await fetch('https://wttr.in/Vergato?format=%t');
      const temp = await res.text();
      document.getElementById('temperature').textContent = temp;
    } catch(e) {
      document.getElementById('temperature').textContent = 'Weather error';
    }
  }
  updateWeather();
  setInterval(updateWeather, 600000); // every 10 minutes

  // --- HEARTBEAT TO PREVENT FIRESTICK SLEEP ---
  // Every 30 seconds, trigger a tiny dummy update to keep browser active
  setInterval(() => {
    const hb = document.getElementById('heartbeat');
    if (!hb) {
      const span = document.createElement('span');
      span.id = 'heartbeat';
      span.style.display = 'none';
      document.body.appendChild(span);
    } else {
      hb.textContent = new Date().getTime(); // update timestamp
    }
  }, 30000); // 30 seconds
</script>

</body>
</html>




